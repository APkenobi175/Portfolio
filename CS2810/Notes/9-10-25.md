# Floating Point Numbers


### Signed Integers Review
* As you recall we used the left most bit to represent the sign + or -
* The remaining bits represent a non negative integer
* One issue of this is it cuts the number of possible digits in half
* Another issue is redundant representation for 0
* Another issue is the numbers are not in order

### MSD
* TO find out the largest values we look at the most significant digit (MSD)
* MSD is the left most digit. we look at MSD and move right
* Example
```
01101010
00100000
11101001
11010010


Looking at the MSD we can tell the bottom 2 are bigger
Then we move right and we can tell from 3 significant digits in that 
the third number is largest

```

* Can we do this with signed binary?
* Anything with a 0 in the first column is a positive number and will be one of the biggest
* After the sign it goes to regular non signed binary so we look at the most significant digits. 
* Easy PZ

### Signed Values with Offset/Biased-N
* How can we adjust them so they all align on the number line?
* We just need to introduce an offset, also called a "Bias"
* For a 8 bit value we have a bias of 127
  * we say biased 127 in 8 bits
  * why 127? because we need to represent positive and negative values. this cuts our range in half so our actual range is -127 to 128.
  * 2^7 - 1 = 127
* How do you change something from decimal to biased-127?
  * Add N to the decimal numbers, N = 127 for 8 bit numbers
  * Convert result as if unsigned. 
  * Example:
    * 23 + 127 = 150 = 10010110, which is 23 in biased format.
* How do you change something from biased to a decimal
  * Convert to biased binary as if unsigned
  * Subtract N from decimal number
  * N = 127 for 8 bit numbers

### Floating Point - IEEE 754 standard
 **What do we need to store a real number in IEEE754 format?**
1. First, convert it (-101101011101.101) into scientific notation
2. sign, fraction, exponent: -1.01101011101101x2^11
3. MSD is ALWAYS 1, and base is ALWAYS 2
4. Assuming we have a float of 32 bits we take them and split them into 3 parts
5. 1 bit for the sign, 8 bits for exponent in biased-127 format, 23 bits for the mantissa
6. The **Mantissa** is the fraction component. It holds the actual digits of the value representing its precision.
7. We have to fill in the rest to make it 23 bits so fill in the rest with 0s
8. for 64 bit it would be 1 bit for the sign, 11 bits for biased-1023 format, 53 bits for the mantissa

### Convert to Floating Point IEEE754 FIRST SCIENTIFIC NOTATION
* This is what we are looking for **+/-1.Fx2^E-127**. Find E, then find F
* Example: 0100010100110100000...0
* Sign = +
* E = 10001010(base 2) = 138 (base 10)
* F = +1.01101x2^(138-127)
* Put it all together and get +1.01101x2^11
* BIAS = (2^k-1) - 1

### Convert FROM scientific notation
1. Convert from scientific notation, move the decimal over 11 places.
2. Convert to Decimal

### Whats wrong with this?
* We are missing a representation for ZERO, nah we are not
  * If E=0 and F=0 then the sign is ignored and represents the number 0
* What about infinity?
  * We can indicate infinity by setting all E=1 and all F=0 and the sign represents + or -
    * Example: 11111111100000000000000000000000 oor 01111111100000000000000000000000
* What about a non number? NAN
  * Occurs if there was an error in the calculation or an invalid number
  * E = All 1s
  * F = Anything BUT all 0s
  * Sign ingored
    * Example: ?11111111101010101010101010101

### Convert from base 10 decimal to IEEE754

```
+35.31 (base 10)
1. Convert integer and fraction parts into Binary
INT(35) = 100011
FRAC(31) = 1111
2. Combine the two Binary Parts
10011.1111
3. Convert to Scientific Notation
10011.1111 = 1.00111111x10^4
4. Determine exponenet (E) from step 4 and convert it to base 2
E = 4 + 127 = 131 = 10000011
5. Extract mantissa from step 3 (everything past the decimal)
F = 00111111
6. Combine
1 10000011 00111111
7. Pad mantissa with zeros up to 23 digits
0 10000011 0011111100000000000000



```

DOnt forget mantissa bits are converted via 0.5, 0.25, etc

if E = 0 then its 0. not 1. and E = 1

