# MCV

### What is Model View Controler Design Pattern (MCV)
* MCV is the design pattern that Django uses
* Very high level and generalizable design pattern
* Software is defined in layers typically. 
* All Software has the following layers
  1. View layer
  2. Application layer
  3. Data layer - storing and managing data
* Can be diagramed with a Controller, Model, and View
* The user request will go to the controller
* The controller interacts with the model, the model layer provides data to the controller
* The controller will request data from the model, and the model will provide the data
* The Controller will then send the data to the view, and the view responds with what the user will see (html string)
* Then the controller will send the response back to the end user

### Django Version 

* Django version renames controller and view
* With Django you still have the 3 boxes.
* Django calls the controller "Views"
* The model is still called models
* And the view is now called Template
* The flow is still the same, but componenets in this diagram are named differently.

### Model Layer

* Models == Things
* Models are the things that the application works with
* A single contact would be a model in a contact application
* In canvas, quizzes, students, etc 
* Models could be like tags in PLC programming? maybe?
* Model layer might be working with files, apis, database, generated data, etc
* Model Layer = All code related to the models


# How to build an MVC App with a database

### Models
* The models.py file is where all your models go
* Models are basically classes
* we use ID to identify its spot in the database
* BigAutoField basically declares its data type in the database, Auto means it will be auto incremented the database will take care of the id number
```python
    class Todo(models.Model):
    id = models.BigAutoField(primary_key=True)
```
Basically every time you use a database you will use this line of code almost every time 
* Declearing a class is like creating a user defined tag in the PLC
* For example, declaring a Todo Model would look like this:
```python
from django.db import models

# Create your models here.
class Todo(models.Model):
    id = models.BigAutoField(primary_key=True)
    content = models.TextField()
    is_completed = models.BooleanField(default=False)
```
* We are basically describing the shape of the Model. And defining its attributes
### Data base
* Most databases are statically typed. The data has to fit the database data types.
* You can get Django to make this for you
* Run the manage.py command. The makemigrations script will create migrations for our applications
* Running it will define a list of operations for changes to make to the database
* This automatically adds your model to the database with all its attributes
* Now we can run the migrations. `python manage.py migrate`
* To save something to the database, you basically call the class, and put the parameters into it
```python
params = request.POST
    todo = Todo(
        content = params.get("content"),
    )
    todo.save()
```
Then redirect 
