# Middleware In Django
### Creating Middleware in Django
* YOu can create a new file in the application file and name it middleware.py
* It is very similar to what we have already learned

```python
from django.http import HttpRequest
def loggin_middleware_factory(next):
	def middleware(req: HttpRequest):

		print("I AM IN THE MIDDLEWARE")
		res = next()
		return res
	return middleware
```
* The middelware is written like the way we have learned
* Affter creating the middleware go to the settings.py file and load it into the middleware section
* The order does matter
* Put it in and thats all you have to do to install it

### Common things for the middleware to do
* Attach data to our request objects
```python
def session_middleware_factory(next):
	def middleware(req):
		# Go to the db to find user based on session token cookie
		user = {
			"name": "joseph",
			"Email:" "Joseph.ditton@usu.edu"
		}
		req.user = user # Attatch the user object right to our request
		res = next(req)
		return res
	return middleware
```
* YOu can attach any arbitraury data that you want to the request object then we can read it in our endpoint
