# Building Applications with Django

### Setting up Application
* You can use a module from django.shortcuts called render
* This allows you to import html files instead of hard coding html files in to HttpResponse
* in order to do this you must put the files in a templates folder
* Your templates folder must have a core folder, and thats where the html files go

### Forms in HTML
* YOur inputs should have names they act as variables

```[14/Sep/2025 21:51:27] "GET /passwords/?length=12&count=5 HTTP/1.1" 200 4```

* When you submit forms you can see the queary params in the get request
* YOu can also make a post request with the same information
```html
<form action="/passwords/" method="post">
```
YOu can retrieve information from the get or post request using a request.GET
example
```python
def passwords(request: HttpRequest): #using the typing module to specify the type of request helps with autocompletion in some editors like VS code 
    query = request.GET
    print(query.get["length",1 ])
    print(query.get["count", 1]) ## you use .get so that if there is no count it doesn't break and then specify a default value of 1
    return HttpResponse("TEST")
```
* Everything youg et from the get request is parsed as a string, so if you want to use these as an int you must convert it to an int

### Django Tags
Django has special functions you can write in HTML You define these variables in the python script to use in the HTML file
```python
context = {
        "passwords": passwords,
        "isAdmin": True
    }
    return render(request, 'core/passwords.html', context)
```
In this example you are returning "context" which is a variable you can use in html that is also defined in the python script
You display these variables in the double curly braces
```
{% if isAdmin %}
    <h2> you are the admin</h2>
    {% endif %}
    </header>
    <main>
        <ul>
            {% for password in passwords %}
                <li>{{password}}</li>
            {% endfor %}
```
### How to load static files (.css)
* Static files need to be loaded from a static/core directory in your app directory.
* Then, in your html file at the top you use one of the special tags
```
{% load static %}
```
* Then you can link to the CSS file, like normal, but with another specialt tag
```
<link rel="stylesheet" href="{% static 'core/styles.css' %}">
```
* linking directly where the CSS file is located

### More Django Terms to Know
* Tags - The commands inside the curly braces 
* Variables - Passed through double curly braces {{..}}
* Template Inheritance - The base layout + overridable blocks. Keeps one consistent sckeleton
* Child - A html file that is inheriting things from the base layout
* Filters - Post procfess a variable with | for example
```
{{ name|upper }}
{{ text|truncatechars:80 }}
{{ date|date:"Y-m-d" }}
{{ value|default:"N/A" }}
{{ html|safe }}              <!-- careful: disables escaping -->
{{ text|linebreaksbr }}      <!-- \n â†’ <br> -->

```

You can create custom filters in python too
```python
# core/templatetags/extras.py
from django import template
register = template.Library()

@register.filter
def mul(value, arg): return value * arg

@register.simple_tag
def greet(name): return f"Hello, {name}"
```
And then use them in html
```
{% load extras %}
{{ 7|mul:6 }}        <!-- 42 -->
{% greet user.first_name %}
```