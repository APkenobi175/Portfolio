# Users and Authentication Intro

### Hashing

* Python uses a module called hashlib to create hash tables
* Example:
```python
import hashlib
myMessagfe = "hello world"
hasher = hashlib.sha256() # This is the hashing algorithm
hasher.update(bytes(myMessagfe, 'utf-8'))

print(hasher.hexdigest())
```
* Given the same input it will always give the same output. That is the important thing about hashing
* You cannot go backwards from the hash to the original data
* Its not the same thing as encryption, we have lost the original data
* But witht he orignal data we can use the same hash
* We use this to securely store passwords
* Before storing passes in a database we hash them.
## NEVER STORE PLAIN TEXT PASSWORDS IN A DATABSE
* The sha256 algorithm is great for no collisions 



### Hashing is not good enough. Rainbow Table Attack
* Theres nothing you will do that will guarantee that your data does not get breached, so you HAVE to protect your data
* A rainbow table is we take a bunch of passwords and we precompute the hashes for them so when data does get breached we have the hashes already

### Protect your data
* Once your data is leaked its only a matter of time until attackers find out what the passwords are
* Attackers can always brute force passwords

### Salting
* Reduces the chance of a password being in a rainbow table by generating a random string at the end of the password
* Store the salt value in the database alongside the hash value
* Get the hash value and the salt value
* Take the password the user puts in, append the salt value to it, compute the hash, and then log in that way
* People won't be able to precompute the hashes for passwords
* Its very important for your users to have strong passwords to reduce likelyhood to be found out

### Hashing Rounds
* Take the old hash and compute a new hash for it multiple times


### Django To the Rescue
* Django has password hashing builtin. Here is how you use it:
```python
from django.contrib.auth.hashers import make_password, check_password

my_password = "password1" # this would come from the client

my_hashed_password = make_password(my_password) # store this in the database

print(check_password(my_password, my_hashed_password)) # should print out True
```

```pbkdf2_sha256$600000$EdYdmB1mq12HSyXp93kgyZ$lWmnezOqckp++s8rgq9CPHv+GWs8JgDVw8IMfkQOlgw=```
* This actually has all of the important information, like the salt and number of hashing rounds encoded into it. Each part is separated by a $. So breaking this down we get these parts:

* pbkdf2_sha256 This is the algorithm that was used to create the hash
* 600000 This is the number of hashing rounds used
* EdYdmB1mq12HSyXp93kgyZ This is the salt value
* lWmnezOqckp++s8rgq9CPHv+GWs8JgDVw8IMfkQOlgw= This is the hash (base-64 encoded)
* This is all stored in one column in the database and Django knows what to do with it. Good boy Django
